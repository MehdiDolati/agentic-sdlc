<!-- Out-of-band swap: replace the global #flash banner -->
{% set _f = flash if (flash is defined and flash) else None %}
{% set _level = (level if (level is defined) else (_f.level if _f else 'error')) %}
{% set _title = (title if (title is defined) else (_f.title if _f else 'Error')) %}
{% set _message = (message if (message is defined) else (_f.message if _f else 'Request failed.')) %}

<div id="flash"
     class="flash {{ _level }}"
     role="alert"
     hx-swap-oob="true">
  <strong>{{ _title }}</strong>
  <span style="margin-left:.5rem">{{ _message }}</span>
</div>